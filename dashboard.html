<!DOCTYPE html>
<html lang="sq">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Energy Guardian - Paneli Kryesor</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Inter',sans-serif;
    margin:0;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
}

/* HEADER */
header{
    background:rgba(0,255,120,0.9);
    padding:1rem 2rem;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

header h1{
    margin:0;
    color:black;
    font-weight:700;
}

nav a{
    margin-left:1.2rem;
    color:black;
    text-decoration:none;
    font-weight:600;
    transition:0.3s;
}

nav a:hover{
    opacity:0.7;
}

/* TITULLI */
main{
    padding:2rem;
}

h2{
    margin-bottom:1rem;
}

/* KARTAT */
.summary-cards{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:1.5rem;
    margin-bottom:2rem;
}

.card{
    background:rgba(255,255,255,0.08);
    padding:1.5rem;
    border-radius:18px;
    backdrop-filter:blur(10px);
    text-align:center;
    transition:0.3s;
    box-shadow:0 8px 20px rgba(0,0,0,0.3);
}

.card:hover{
    transform:translateY(-5px);
    box-shadow:0 12px 25px rgba(0,255,150,0.4);
}

.card h3{
    margin:0;
    font-size:1rem;
    opacity:0.9;
}

.card p{
    font-size:1.6rem;
    font-weight:700;
    margin-top:0.5rem;
}

/* LISTA */
ul{
    list-style:none;
    padding:0;
}

li{
    background:rgba(255,255,255,0.07);
    padding:0.8rem 1rem;
    border-radius:12px;
    margin:0.6rem 0;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

/* BUTON FSHI */
button{
    background:linear-gradient(135deg,#ff4d4d,#cc0000);
    border:none;
    padding:0.4rem 0.8rem;
    border-radius:8px;
    color:white;
    font-weight:600;
    cursor:pointer;
    transition:0.3s;
}

button:hover{
    transform:scale(1.05);
    box-shadow:0 4px 15px rgba(255,0,0,0.5);
}

/* MOBILE */
@media(max-width:600px){
    header{
        flex-direction:column;
        text-align:center;
    }
    nav{
        margin-top:0.5rem;
    }
}
</style>
</head>
<body>

<header>
<h1>⚡ Energy Guardian</h1>
<nav>
  <a href="index.html">Paneli Kryesor</a>
  <a href="add-appliance.html">Shto Pajisje</a>
  <a href="simulator.html">Simulimi</a>
  <a href="reports.html">Raportet</a>
</nav>
</header>

<main>

<h2>Paneli i Monitorimit</h2>

<div class="summary-cards">
  <div class="card">
    <h3>Konsumi Total</h3>
    <p id="total-kwh">0 kWh</p>
  </div>

  <div class="card">
    <h3>Kosto Totale</h3>
    <p id="total-cost">0 lekë</p>
  </div>

  <div class="card">
    <h3>Emetimi CO₂</h3>
    <p id="total-co2">0 kg</p>
  </div>

  <div class="card">
    <h3>Eco Score</h3>
    <p id="eco-score">0/100</p>
  </div>
</div>

<h3>Pajisjet me Konsum</h3>
<ul id="appliance-list"></ul>

</main>

<script>

let appliances = JSON.parse(localStorage.getItem('appliances') || '[]');

function updateDashboard(){

  let totalKwh = 0;
  let totalCost = 0;
  let totalCO2 = 0;

  appliances.forEach(a => {
      let energy = (a.watt/1000) * a.hours;
      totalKwh += energy;
      totalCost += energy * 9.5;
      totalCO2 += energy * 0.7;
  });

  document.getElementById("total-kwh").textContent = totalKwh.toFixed(2)+" kWh";
  document.getElementById("total-cost").textContent = totalCost.toFixed(2)+" lekë";
  document.getElementById("total-co2").textContent = totalCO2.toFixed(2)+" kg";
  document.getElementById("eco-score").textContent =
      Math.max(0,100 - totalKwh*5).toFixed(0)+"/100";

  let list = document.getElementById("appliance-list");
  list.innerHTML="";

  appliances.forEach((a,i)=>{
      let li = document.createElement("li");

      let info = document.createElement("span");
      info.textContent = `${a.name} – ${a.watt}W × ${a.hours} orë`;

      let btn = document.createElement("button");
      btn.textContent = "Fshi";
      btn.onclick = ()=>{
          appliances.splice(i,1);
          localStorage.setItem('appliances', JSON.stringify(appliances));
          updateDashboard();
      };

      li.appendChild(info);
      li.appendChild(btn);
      list.appendChild(li);
  });
}

updateDashboard();

</script>

</body>
</html>
